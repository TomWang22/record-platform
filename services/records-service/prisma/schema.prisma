datasource db {
  provider = "postgresql"
  url      = env("POSTGRES_URL")
  // ðŸ‘‡ this service writes to the "records" schema
  schemas  = ["records"]
}

generator client {
  provider = "prisma-client-js"
}

model Record {
  id               String   @id @default(cuid())
  userId           String   @index
  artist           String   @db.VarChar(256)
  name             String   @db.VarChar(256)
  format           String   @db.VarChar(64)
  catalogNumber    String?  @db.VarChar(64)
  recordGrade      String?  @db.VarChar(16)
  sleeveGrade      String?  @db.VarChar(16)
  hasInsert        Boolean  @default(false)
  hasBooklet       Boolean  @default(false)
  hasObiStrip      Boolean  @default(false)
  hasFactorySleeve Boolean  @default(false)
  isPromo          Boolean  @default(false)
  notes            String?  @db.Text
  purchasedAt      DateTime?
  pricePaid        Decimal? @db.Decimal(10, 2)
  createdAt        DateTime @default(now())
  updatedAt        DateTime @updatedAt

  @@index([artist])
  @@index([catalogNumber])
  @@index([artist, name, format])
}
